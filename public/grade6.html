<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NCC Zambia – Renewal Form</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: linear-gradient(to right, #f0f0f5, #e6e6ec);
  margin: 0;
  padding: 2rem;
  color: #333;
}

.container {
  max-width: 800px;
  margin: auto;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  padding: 2rem;
}

.logo-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  margin-bottom: 1.5rem;
}

.logo-row img {
  max-width: 150px;
  height: auto;
}

h2 {
  text-align: center;
  margin-bottom: 1rem;
}

fieldset {
  border: none;
  margin-bottom: 2rem;
}

legend {
  font-weight: bold;
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
}

input, select, textarea {
  width: 100%;
  padding: 0.6rem;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-bottom: 1rem;
  font-size: 1rem;
}

textarea {
  resize: vertical;
  min-height: 80px;
}

input[type="tel"],
input[type="email"],
input[type="number"],
input[type="text"] {
  max-width: 100%;
}

button {
  background-color: #007aff;
  color: white;
  padding: 0.8rem 1.2rem;
  border: none;
  border-radius: 10px;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.3s ease;
  margin-top: 0.5rem;
}

button:hover {
  background-color: #005bb5;
}

.progress-container {
  background-color: #e0e0e0;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 1rem;
  height: 10px;
}

.progress-bar {
  height: 10px;
  background-color: #007aff;
  width: 0%;
  transition: width 0.3s ease;
}

.step-indicator {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
  font-size: 0.9rem;
  flex-wrap: wrap;
}

.step-label {
  flex: 1;
  text-align: center;
  padding: 0.5rem;
  border-bottom: 3px solid #ccc;
  color: #666;
}

.step-label i {
  margin-right: 6px;
}

.step-label.active {
  border-bottom: 3px solid #007aff;
  color: #007aff;
  font-weight: bold;
}

canvas {
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  cursor: crosshair;
  margin-bottom: 0.5rem;
}
</style>
</head>
<body>
  <div class="container">
    <div class="logo-row">
      <img src="ncc.png" alt="NCC Logo" />
      <img src="tros1.png" alt="TaxMan Zambia Logo" />
    </div>
   <center><h1> REGISTRATION OF CONTRACTORS - 2025 </h1></center>
    <h2>Grade 6 Additional Category Registration</h2>
	<center><p style="font-size:10px"><i>[In terms of the National Council for Construction Act No.
	10 of 2020 of the Laws of Zambia]</i></P></center>
</br></br></center>

    <div class="step-indicator">
      <div class="step-label active"><i class="fas fa-building"></i> Company Info</div>
      <div class="step-label"><i class="fas fa-layer-group"></i> Categories</div>
      <div class="step-label"><i class="fas fa-signature"></i> Declaration</div>
      <div class="step-label"><i class="fas fa-clipboard-check"></i> Checklist</div>
      <div class="step-label"><i class="fas fa-money-check-alt"></i> Payment</div>
    </div>

    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <form id="grade6Form">
      <!-- Section 1: Company Info -->
      <fieldset id="section1">
        <legend>Company Information</legend>
        <label>Company Name</label>
        <input type="text" name="company_name" required />

        <label>Phone Number</label>
        <input type="tel" name="phone" required />

        <label>Email</label>
        <input type="email" name="email" required />
      </fieldset>

<!-- Section 2: Categories -->
      <fieldset id="section2">
        <legend>Categories of Construction Activities</legend>
        <label>Select Categories (You may choose multiple)</label>
        <select name="categories" multiple required>
          <option value="B">General Building and Housing</option>
          <option value="C">General Civil Engineering Works</option>
          <option value="R">General Roads and Earthworks</option>
          <option value="E">Electrical and Telecommunications</option>
          <option value="ME">Mechanical Engineering Works</option>
          <option value="M-B">Mining - Building and Housing</option>
          <option value="M-C">Mining - Civil Engineering</option>
          <option value="M-R">Mining - Roads and Earthworks</option>
          <option value="M-E">Mining - Electrical</option>
          <option value="M-ME">Mining - Mechanical</option>
          <option value="M-M">Mining - Quarrying</option>
        </select>

        <label>Number of Categories Selected</label>
        <input type="number" name="category_count" id="categoryCount" readonly />

        <label>Total Fee (K750 per category)</label>
        <input type="number" name="total_fee" id="totalFee" readonly />
      </fieldset>

      <!-- Section 3: Declaration -->
      <fieldset id="section3">
        <legend>Declaration</legend>
        <label>Declaration Statement</label>
        <textarea name="declaration" required></textarea>

        <label>Shareholder or Power of Attorney Name</label>
        <input type="text" name="declarer_name" required />

        <label>Witness Name</label>
        <input type="text" name="witness_name" required />

        <label>Signature</label>
        <canvas id="signaturePad" width="300" height="100"></canvas>
        <button type="button" onclick="clearSignature()">Clear Signature</button>
        <input type="hidden" name="signatureData" id="signatureData" />
      </fieldset>

      <!-- Section 4: Checklist -->
      <fieldset id="section4">
        <legend>Scrutiny Checklist</legend>
        <label>Upload Proof of Payment</label>
        <input type="file" name="payment_proof" accept=".pdf,.jpg,.png" required />

        <label>Upload Declaration Page</label>
        <input type="file" name="declaration_page" accept=".pdf,.jpg,.png" required />

        <label>Upload Power of Attorney (if applicable)</label>
        <input type="file" name="power_of_attorney" accept=".pdf,.jpg,.png" />
      </fieldset>

      <!-- Section 5: Payment -->
      <fieldset id="section5">
        <legend>Payment Information</legend>
        <label>Select Bank Used</label>
        <select name="bank" required>
          <option value="">-- Select Bank --</option>
          <option value="ABSA">ABSA Bank Zambia PLC</option>
          <option value="Access">Access Bank Zambia</option>
          <option value="FNB">First National Bank</option>
          <option value="ZANACO">ZANACO</option>
          <option value="ZICB">Zambia Industrial Commercial Bank</option>
        </select>
      </fieldset>

      <button type="submit">Submit Application</button>
    </form>
  </div>
  <script>
document.addEventListener("DOMContentLoaded", () => {
  const form = document.getElementById("grade6Form");
  const progressBar = document.getElementById("progressBar");
  const sections = document.querySelectorAll("fieldset");
  const stepLabels = document.querySelectorAll(".step-label");
  const categorySelect = form.querySelector("select[name='categories']");
  const categoryCountInput = document.getElementById("categoryCount");
  const totalFeeInput = document.getElementById("totalFee");

  // Progress bar logic
  form.addEventListener("input", () => {
    const inputs = form.querySelectorAll("input, select, textarea");
    const filled = Array.from(inputs).filter(input => {
      if (input.type === "checkbox" || input.type === "radio") {
        return input.checked;
}
      return input.value.trim()!== "";
}).length;

    const total = inputs.length;
    const progress = Math.round((filled / total) * 100);
    progressBar.style.width = `${progress}%`;
});

  // Step indicator logic
  window.addEventListener("scroll", () => {
    let currentIndex = 0;
    sections.forEach((section, index) => {
      const rect = section.getBoundingClientRect();
      if (rect.top <= 150 && rect.bottom>= 150) {
        currentIndex = index;
}
});
    stepLabels.forEach((label, index) => {
      label.classList.toggle("active", index === currentIndex);
});
});

  // Signature pad logic
  const canvas = document.getElementById("signaturePad");
  const ctx = canvas.getContext("2d");
  let drawing = false;

  canvas.addEventListener("mousedown", () => drawing = true);
  canvas.addEventListener("mouseup", () => drawing = false);
  canvas.addEventListener("mouseout", () => drawing = false);
  canvas.addEventListener("mousemove", e => {
    if (!drawing) return;
    const rect = canvas.getBoundingClientRect();
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#000";
    ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
});

  window.clearSignature = function () {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    document.getElementById("signatureData").value = "";
};

  // Fee calculation logic
  categorySelect.addEventListener("change", () => {
    const selected = Array.from(categorySelect.selectedOptions);
    const count = selected.length;
    const fee = count * 750;
    categoryCountInput.value = count;
    totalFeeInput.value = fee;
});

  // Form submission
  form.addEventListener("submit", (e) => {
    e.preventDefault();

    // Save signature data
    const dataURL = canvas.toDataURL();
    document.getElementById("signatureData").value = dataURL;

    alert("✅ Grade 6 Additional Category Application Submitted Successfully!");
    form.reset();
    progressBar.style.width = "0%";
    stepLabels.forEach(label => label.classList.remove("active"));
    stepLabels[0].classList.add("active");
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    window.scrollTo({ top: 0, behavior: "smooth"});
});
});
</script>
</body>
</html>