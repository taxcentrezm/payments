const companyTypeSelect=document.getElementById("companyType"),feeGradeSelect=document.getElementById("feeGrade"),renewalDateInput=document.getElementById("renewalDate"),calculateFeeButton=document.getElementById("calculateFee"),feeResultParagraph=document.getElementById("feeResult"),fees={zambian:{grade1:16666.8,grade2:12500.1,grade3:8333.4,grade4:2499.9,grade5:1250.1,grade6:833.4},foreign:{annual:{grade1:1e5,grade2:75e3}},specialist:{local:{registration:{classA:7750,classB:1875},express:{classA:15500,classB:3750}},foreign:{registration:{classA:1e5},express:{classA:2e5}}}};companyTypeSelect.addEventListener("change",()=>{let e=companyTypeSelect.value;if(feeGradeSelect.innerHTML='<option value="">Select Grade</option>',"zambian"===e)Object.keys(fees.zambian).forEach(e=>{let t=document.createElement("option");t.value=e,t.text=e.charAt(0).toUpperCase()+e.slice(1),feeGradeSelect.appendChild(t)});else if("foreign"===e)Object.keys(fees.foreign.annual).forEach(e=>{let t=document.createElement("option");t.value=e,t.text=e.charAt(0).toUpperCase()+e.slice(1),feeGradeSelect.appendChild(t)});else if("specialist_local"===e)["Class A","Class B"].forEach((e,t)=>{let a=document.createElement("option");a.value=`class${String.fromCharCode(65+t).toLowerCase()}`,a.text=e,feeGradeSelect.appendChild(a)});else if("specialist_foreign"===e){let t=document.createElement("option");t.value="classA",t.text="Class A",feeGradeSelect.appendChild(t)}}),calculateFeeButton.addEventListener("click",()=>{let e=companyTypeSelect.value,t=feeGradeSelect.value,a=new Date(renewalDateInput.value),l=new Date(a.getFullYear(),0,14),n;function r(e){let t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],l=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=["","Thousand","Million","Billion"];function r(e){let n="";return e>=100&&(n+=t[Math.floor(e/100)]+" Hundred",(e%=100)&&(n+=" and ")),e>=20?(n+=l[Math.floor(e/10)],(e%=10)&&(n+=" "+t[e])):e>=10?n+=a[e-10]:e>0&&(n+=t[e]),n}function i(e){if(0===e)return"Zero";let t=[];for(;e>0;)t.push(e%1e3),e=Math.floor(e/1e3);let a="";for(let l=t.length-1;l>=0;l--)0!==t[l]&&(a+=r(t[l])+" "+n[l]+" ");return a.trim()}let o=Math.floor(e),s=Math.round((e-o)*100),c=i(o),$=s>0?i(s)+" Ngwee":"Zero Ngwee";return`${c} Kwacha and ${$}`}"zambian"===e?n=fees.zambian[t]:"foreign"===e?n=fees.foreign.annual[t]:"specialist_local"===e?n=fees.specialist.local.registration[t]:"specialist_foreign"===e&&(n=fees.specialist.foreign.registration[t]);let i=0;if(a>l){let o=(a.getFullYear()-l.getFullYear())*12+a.getMonth()-l.getMonth();i=.02*n*o}let s=n+i,c=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});feeResultParagraph.textContent=`
Renewal Fee: K${c(n)} (${r(n)})
Penalty: K${c(i)} (${r(i)})
Total Fee: K${c(s)} (${r(s)})
`});
